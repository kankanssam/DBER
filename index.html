<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>데이터 편향성 탐구 보고서</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Noto Sans KR 폰트를 기본으로 사용 */
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        /* 로딩 스피너 스타일 */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .spinner {
            border-width: 4px;
            border-color: transparent;
            border-top-color: #3b82f6; /* 파란색 */
            animation: spin 1s linear infinite;
        }
        /* 제 완료 메시지 transition */
        .save-feedback {
            transition: opacity 0.5s ease-out;
        }
        /* iOS에서 input 그림자 제거 */
        input[type="text"], textarea {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">

    <div id="loading-overlay" class="fixed inset-0 bg-white bg-opacity-75 flex flex-col items-center justify-center z-50 transition-opacity duration-300">
        <div class="spinner w-16 h-16 rounded-full"></div>
        <p class="mt-4 text-lg font-semibold text-gray-700">데이터 불러오는 중...</p>
    </div>

    <div class="w-full max-w-4xl mx-auto">
        
        <div id="example-screen" class="bg-white p-8 md:p-12 rounded-2xl shadow-xl border border-gray-200">
            <h1 class="text-3xl font-bold text-center text-blue-600 mb-4">데이터 편향성 탐구 보고서 (예시)</h1>
            <p class="text-center text-gray-600 mb-10">AI와 데이터를 공부하는 학생들을 위해, 보고서 작성 예시를 준비했습니다.</p>
            
            <div class="space-y-6 text-gray-800">
                <div>
                    <h2 class="text-xl font-semibold text-gray-900 border-l-4 border-blue-500 pl-3 mb-3">1. 내가 생각하는 데이터 편향성이란?</h2>
                    <p class="p-3 bg-gray-50 rounded-lg border border-gray-200 leading-relaxed">
                        데이터 편향성이란, 인공지능(AI)을 학습시키는 데이터가 현실 세계의 다양성을 골고루 반영하지 못하고 특정 집단에 치우쳐져 있는 상태를 의미합니다. 이러한 편향된 데이터로 학습한 AI는 결국 불공평하거나 차별적인 결정을 내릴 위험이 있습니다.
                    </p>
                </div>

                <div>
                    <h2 class="text-xl font-semibold text-gray-900 border-l-4 border-blue-500 pl-3 mb-3">2. 데이터 편향성 적용 사례</h2>
                    <p class="p-3 bg-gray-50 rounded-lg border border-gray-200 leading-relaxed">
                        가장 유명한 사례로 <strong>'AI 얼굴 인식 기술의 인종/성별 편향성'</strong>이 있습니다. MIT 미디어랩의 연구에 따르면, 특정 기업들의 얼굴 인식 AI가 백인 남성의 얼굴은 거의 100%에 가깝게 인식했지만, <strong>피부색이 어두운 여성의 얼굴은 인식률이 65%까지 떨어지는 것</strong>으로 나타났습니다. 이는 AI 학습 데이터셋에 백인 남성의 사진이 압도적으로 많고, 유색 인종 여성의 사진은 부족했기 때문입니다.
                        <br><br>
                        또 다른 사례로는 <strong>'아마존의 AI 채용 프로그램'</strong>이 있습니다. 이 AI는 과거 10년간 회사에 제출된 이력서(대부분 남성 개발자)를 기반으로 학습했습니다. 그 결과, AI는 이력서에 '여성'이라는 단어가 포함되거나, '여대' 출신인 경우 감점 처리하는 성차별적인 패턴을 스스로 학습했습니다.
                    </p>
                    <div class="mt-3 p-3 bg-blue-50 border border-blue-100 rounded-lg">
                        <span class="font-semibold text-blue-700 text-sm">관련 참고 링크 (예시)</span>
                        <ul class="list-disc list-inside mt-1 text-sm text-blue-600">
                            <li>
                                <span class="font-medium">[얼굴 인식 편향성]</span>
                                <a href="https://news.mit.edu/2018/study-finds-gender-skin-type-bias-artificial-intelligence-systems-0212" target="_blank" class="underline hover:text-blue-800">
                                    MIT News: Study finds gender and skin-type bias...
                                </a>
                            </li>
                            <li class="mt-1">
                                <span class="font-medium">[AI 채용 편향성]</span>
                                <a href="https://www.chosun.com/site/data/html_dir/2018/10/11/2018101101250.html" target="_blank" class="underline hover:text-blue-800">
                                    조선일보: "이력서에 '여성' 들어가면 감점"… 아마존 AI 채용, 도입 취소
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h2 class="text-xl font-semibold text-gray-900 border-l-4 border-blue-500 pl-3 mb-3">3. 사례 분석 (원인)</h2>
                    <p class="p-3 bg-gray-50 rounded-lg border border-gray-200 leading-relaxed">
                        두 사례의 공통적인 원인은 <strong>'데이터의 대표성 부족'</strong>입니다. AI는 입력된 데이터에 존재하는 패턴을 학습할 뿐, 스스로 윤리적 판단을 하지 못합니다. 과거의 성공 사례(남성 개발자)나 쉽게 수집할 수 있는 데이터(백인 남성 사진)가 데이터셋의 대부분을 차지하게 되면, AI는 '과거의 차별'이나 '데이터 불균형' 자체를 '정답'으로 인식하고 이를 증폭시킵니다.
                    </p>
                </div>
                
                <div>
                    <h2 class="text-xl font-semibold text-gray-900 border-l-4 border-blue-500 pl-3 mb-3">4. 나의 생각 및 해결 방법</h2>
                    <p class="p-3 bg-gray-50 rounded-lg border border-gray-200 leading-relaxed">
                        AI가 사회 깊숙이 들어오는 만큼, 개발 단계부터 데이터 편향성을 심각하게 고민해야 한다고 생각합니다.
                        <br><br>
                        <strong>해결 방법:</strong><br>
                        1. <strong>다양성 있는 데이터셋 구축:</strong> 의식적으로 다양한 인종, 성별, 연령대의 데이터를 균형 있게 수집하고 포함시키려는 노력이 필요합니다.<br>
                        2. <strong>지속적인 감사 및 모니터링:</strong> AI가 배포된 이후에도 특정 집단에게 불리하게 작동하지 않는지 정기적으로 감사하고, 편향성이 발견되면 즉시 재학습 및 수정해야 합니다.<br>
                        3. <strong>개발팀의 다양성 확보:</strong> AI를 개발하는 팀 자체에 다양한 배경의 사람들이 포함된다면, 데이터 수집 단계에서부터 놓칠 수 있는 편향성을 미리 발견하고 논의할 수 있을 것입니다.
                    </p>
                </div>
            </div>

            <button id="start-report-btn" class="mt-10 w-full bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg py-4 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300">
                보고서 작성 시작하기
            </button>
            <p class="text-center text-gray-500 text-sm mt-8">
                만든이 by 김깐깐
            </p>
        </div>
        
        <div id="report-screen" class="hidden w-full max-w-4xl mx-auto bg-white p-8 md:p-12 rounded-2xl shadow-xl border border-gray-200">
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">데이터 편향성 탐구 보고서</h1>
            
            <form id="report-form" class="space-y-6">
                
                <div class="flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0 mb-6">
                    <div class="flex-1">
                        <label for="student-id" class="block text-lg font-semibold text-gray-700 mb-2">학번</label>
                        <input type="text" id="student-id" name="student-id" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="예: 10101" required>
                    </div>
                    <div class="flex-1">
                        <label for="student-name" class="block text-lg font-semibold text-gray-700 mb-2">이름</label>
                        <input type="text" id="student-name" name="student-name" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="예: 홍길동" required>
                    </div>
                </div>
                
                <hr class="border-gray-200">

                <div>
                    <label for="definition" class="block text-lg font-semibold text-gray-700 mb-2">1. 내가 생각하는 데이터 편향성이란?</label>
                    <textarea id="definition" name="definition" rows="4" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="데이터 편향성에 대한 자신의 정의를 자유롭게 작성해 주세요." required></textarea>
                </div>
                
                <div>
                    <label for="examples" class="block text-lg font-semibold text-gray-700 mb-2">2. 데이터 편향성 적용 사례</label>
                    <textarea id="examples" name="examples" rows="6" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="데이터 편향성이 적용된 실제 사례를 조사하여 작성해 주세요. (예: AI 채용, 얼굴 인식 등)" required></textarea>
                </div>
                
                <div>
                    <label for="example-links" class="block text-lg font-semibold text-gray-700 mb-2">관련 참고 링크 (선택)</label>
                    <textarea id="example-links" name="example-links" rows="3" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="조사한 사례와 관련된 뉴스 기사나 자료의 URL을 입력해 주세요. (여러 개일 경우 줄바꿈하여 입력)"></textarea>
                </div>
                
                <div>
                    <label for="analysis" class="block text-lg font-semibold text-gray-700 mb-2">3. 사례 분석 (원인)</label>
                    <textarea id="analysis" name="analysis" rows="5" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="해당 사례가 발생한 원인은 무엇이라고 생각하나요? (데이터 수집 과정, 알고리즘의 한계 등)" required></textarea>
                </div>
                
                <div>
                    <label for="solutions" class="block text-lg font-semibold text-gray-700 mb-2">4. 나의 생각 및 해결 방법</label>
                    <textarea id="solutions" name="solutions" rows="6" class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="데이터 편향성을 해결하기 위한 본인만의 생각이나 아이디어를 작성해 주세요." required></textarea>
                </div>
                
                <div class="flex items-center justify-between pt-4">
                    <button type="submit" id="save-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300">
                        제출하기
                    </button>
                    <span id="save-feedback" class="text-green-600 font-semibold opacity-0 save-feedback">
                        ✓ 제출되었습니다!
                    </span>
                    <p class="text-center text-gray-500 text-sm mt-8">
                        만든이 by 김깐깐
                    </p>
                </div>
            </form>
        </div>
    </div>

    <script type="module">
        // --- ⚠️ 중요: 여기에 Google Apps Script 웹 앱 URL을 붙여넣으세요 ---
        // (예시: "https://script.google.com/macros/s/AKfy.../exec")
        const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwcoWf-QDot42SeGz7WT5-ONyhtmQBYj9n8fAJCBC5xtVOHPaiG0lfqY5wDUKKeoMCGbw/exec"; // (사용자 URL 예시)

        // --- DOM 요소 ---
        const loadingOverlay = document.getElementById('loading-overlay');
        const exampleScreen = document.getElementById('example-screen');
        const reportScreen = document.getElementById('report-screen');
        const startReportBtn = document.getElementById('start-report-btn');
        const reportForm = document.getElementById('report-form');
        const saveButton = document.getElementById('save-button');
        const saveFeedback = document.getElementById('save-feedback');

        // "Fire and Forget" 방식의 제출 함수
        // (응답을 기다리지 않고, 즉시 성공으로 처리)
        function submitReport(event) {
            event.preventDefault(); // 폼 기본 제출 방지

            // URL이 기본값인지 확인
            if (WEB_APP_URL.includes("YOUR_URL_HERE") || WEB_APP_URL.length < 50) {
                alert("HTML 파일의 WEB_APP_URL 변수에 Apps Script URL을 입력해야 합니다.");
                return;
            }

            // 1. 버튼 비활성화 및 로딩 상태 표시
            saveButton.disabled = true;
            saveButton.textContent = '제출 중...';
            saveFeedback.classList.remove('text-green-600', 'text-red-600');
            saveFeedback.classList.add('opacity-0');

            // 2. 데이터 준비 (URLSearchParams 사용)
            const formData = new FormData(reportForm);
            const data = new URLSearchParams(formData);

            // 3. "Fire and Forget" (전송만 하고 응답을 기다리지 않음)
            // 'no-cors' 모드는 응답을 읽지 않겠다고 명시하여
            // CORS 및 리디렉션 오류를 원천 차단합니다. (데이터 전송은 됨)
            try {
                fetch(WEB_APP_URL, {
                    method: 'POST',
                    body: data,
                    headers: { 
                        'Content-Type': 'application/x-www-form-urlencoded' 
                    },
                    mode: 'no-cors' 
                });
            } catch (error) {
                // 'no-cors' 모드에서도 fetch 자체가 실패할 수 있으나 (네트워크 단절 등)
                // 지금은 오류 UI를 보여주지 않기로 했으므로 콘솔에만 로그를 남깁니다.
                console.error("Fetch 전송 실패 (UI에는 영향을 주지 않음):", error);
            }

            // 4. [즉시 실행] 성공 UI 표시
            saveFeedback.textContent = "✓ 제출되었습니다!";
            saveFeedback.classList.add('text-green-600');
            saveButton.textContent = '제출 완료';
            saveButton.classList.remove('bg-blue-600', 'hover:bg-blue-700');
            saveButton.classList.add('bg-green-600');
            saveFeedback.classList.remove('opacity-0');

            // 5. [1초 후] 화면 전환 및 폼 초기화 (요청 사항)
            setTimeout(() => {
                reportScreen.classList.add('hidden');
                exampleScreen.classList.remove('hidden');
                window.scrollTo(0, 0);
                reportForm.reset(); // 폼 초기화
                
                // 버튼 원상 복구
                saveButton.disabled = false;
                saveButton.textContent = '제출하기';
                saveFeedback.classList.add('opacity-0');
                saveButton.classList.remove('bg-green-600');
                saveButton.classList.add('bg-blue-600', 'hover:bg-blue-700');

            }, 2000); // 2초 대기
        }
        
        // 앱 초기화 함수 (로딩 오버레이만 숨김)
        function initializeAppLocal() {
            loadingOverlay.classList.add('opacity-0');
            setTimeout(() => loadingOverlay.style.display = 'none', 300);
        }

        // --- 이벤트 리스너 ---
        
        // '보고서 작성 시작하기' 버튼 클릭
        startReportBtn.addEventListener('click', () => {
            exampleScreen.classList.add('hidden');
            reportScreen.classList.remove('hidden');
            window.scrollTo(0, 0); 
        });

        // '제출하기' 버튼 클릭 시 submitReport 함수 호출
        reportForm.addEventListener('submit', submitReport);
        
        // DOM이 준비되면 로컬 앱 초기화 시작
        document.addEventListener('DOMContentLoaded', initializeAppLocal);
        
    </script>
    
</body>
</html>
